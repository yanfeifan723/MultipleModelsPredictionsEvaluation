
## ğŸŒŸ ç‰¹æ€§

- **æ™ºèƒ½æ•°æ®åˆ†æ**: è‡ªåŠ¨è¯†åˆ«æ•°æ®ç±»å‹ã€ç»´åº¦ã€ç‰¹å¾
- **è‡ªåŠ¨ç»˜å›¾é€‰æ‹©**: æ ¹æ®æ•°æ®ç»“æ„è‡ªåŠ¨é€‰æ‹©æœ€ä½³å›¾è¡¨ç±»å‹
- **æ™ºèƒ½å‚æ•°è°ƒæ•´**: è‡ªåŠ¨è°ƒæ•´å›¾å½¢å¤§å°ã€é¢œè‰²ã€æ ‡ç­¾ç­‰å‚æ•°
- **ä¸“ä¸šç»˜å›¾æ ·å¼**: ç»Ÿä¸€çš„ç°ä»£åŒ–ç»˜å›¾é£æ ¼
- **å¤šç§å›¾è¡¨ç±»å‹**: çƒ­åŠ›å›¾ã€ç®±çº¿å›¾ã€æ•£ç‚¹å›¾ã€çº¿å›¾ã€ç›´æ–¹å›¾ç­‰
- **æ¨¡å—åŒ–è®¾è®¡**: æ˜“äºæ‰©å±•å’Œç»´æŠ¤

## ğŸ“Š æ”¯æŒçš„å›¾è¡¨ç±»å‹

### 1. çƒ­åŠ›å›¾ (Heatmap)
- ç›¸å…³æ€§çŸ©é˜µå¯è§†åŒ–
- è‡ªåŠ¨é¢œè‰²èŒƒå›´è°ƒæ•´
- æ™ºèƒ½æ³¨é‡Šæ˜¾ç¤º
- æ”¯æŒå¤šç§é¢œè‰²æ˜ å°„

### 2. ç®±çº¿å›¾ (Boxplot)
- åˆ†ç»„æ•°æ®å¯è§†åŒ–
- è‡ªåŠ¨ç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤º
- æ”¯æŒå¤šåˆ†ç»„å¯¹æ¯”
- æ™ºèƒ½å›¾å½¢å°ºå¯¸è°ƒæ•´

### 3. æ•£ç‚¹å›¾ (Scatter Plot)
- è‡ªåŠ¨åæ ‡è½´é€‰æ‹©
- æ”¯æŒå¤šå˜é‡æ•°æ®
- æ™ºèƒ½æ ‡ç­¾æ˜¾ç¤º

### 4. çº¿å›¾ (Line Plot)
- æ—¶é—´åºåˆ—å¯è§†åŒ–
- è¶‹åŠ¿åˆ†æ
- è‡ªåŠ¨åæ ‡è½´è®¾ç½®

### 5. ç›´æ–¹å›¾ (Histogram)
- åˆ†å¸ƒåˆ†æ
- è‡ªåŠ¨åˆ†ç®±è®¾ç½®
- å¯†åº¦ä¼°è®¡

### 6. åˆ†å¸ƒå›¾ (Distribution Plot)
- å¸¦æ ¸å¯†åº¦ä¼°è®¡çš„ç›´æ–¹å›¾
- æ¦‚ç‡å¯†åº¦å¯è§†åŒ–

### 7. æŸ±çŠ¶å›¾ (Bar Plot)
- åˆ†ç±»æ•°æ®å¯è§†åŒ–
- è‡ªåŠ¨åˆ†ç»„ç»Ÿè®¡

### 8. EOFæ¨¡æ€å›¾ (EOF Modes)
- ç»éªŒæ­£äº¤å‡½æ•°ç©ºé—´æ¨¡æ€å¯è§†åŒ–
- æ”¯æŒ1Då’Œ2Dç©ºé—´åæ ‡
- è‡ªåŠ¨é¢œè‰²èŒƒå›´è°ƒæ•´
- æ™ºèƒ½å­å›¾å¸ƒå±€

### 9. ä¸»æˆåˆ†æ—¶é—´åºåˆ— (PC Time Series)
- ä¸»æˆåˆ†æ—¶é—´åºåˆ—å¯è§†åŒ–
- æ”¯æŒæ—¶é—´åæ ‡è½´
- å¤šæ¨¡æ€å¯¹æ¯”æ˜¾ç¤º

### 10. EOFæ–¹å·®è§£é‡Š (EOF Variance)
- æ–¹å·®è§£é‡Šæ¯”ä¾‹å¯è§†åŒ–
- ç´¯ç§¯æ–¹å·®æ˜¾ç¤º
- è‡ªåŠ¨ç™¾åˆ†æ¯”æ ‡æ³¨

### 11. ç©ºé—´åœºç»˜å›¾ (Spatial Field)
- åœ°ç†æŠ•å½±æ”¯æŒ
- å¤šç§åœ°å›¾æŠ•å½±
- è‡ªå®šä¹‰è¾¹ç•Œçº¿
- è‡ªåŠ¨é¢œè‰²èŒƒå›´è°ƒæ•´

### 12. ç©ºé—´å¯¹æ¯”å›¾ (Spatial Comparison)
- å¤šæ•°æ®é›†ç©ºé—´å¯¹æ¯”
- ç»Ÿä¸€é¢œè‰²èŒƒå›´
- ç½‘æ ¼å¸ƒå±€è‡ªåŠ¨è°ƒæ•´

### 13. ç©ºé—´å¼‚å¸¸å›¾ (Spatial Anomaly)
- å¼‚å¸¸åœºè®¡ç®—å’Œå¯è§†åŒ–
- è‡ªåŠ¨é¢œè‰²èŒƒå›´è°ƒæ•´
- å‘æ•£è‰²æ ‡æ”¯æŒ

### 14. ç©ºé—´ç›¸å…³å›¾ (Spatial Correlation)
- ç©ºé—´ç›¸å…³æ€§è®¡ç®—
- ç›¸å…³ç³»æ•°å¯è§†åŒ–
- ç»Ÿè®¡æ˜¾è‘—æ€§æ ‡æ³¨

### 15. Taylorå›¾ (Taylor Diagram)
- æ¨¡å‹æ€§èƒ½è¯„ä¼°
- ç›¸å…³æ€§ã€æ ‡å‡†å·®æ¯”ã€RMSEå¯è§†åŒ–
- å¤šæ¨¡å‹å¯¹æ¯”
- ç½‘æ ¼å¸ƒå±€æ”¯æŒ

### 16. åŠŸç‡è°±å¯†åº¦ (Power Spectrum)
- å¤šç§é¢‘è°±ä¼°è®¡æ–¹æ³•
- Welchæ–¹æ³•ã€å‘¨æœŸå›¾ã€FFT
- è‡ªåŠ¨é¢‘ç‡åˆ†è¾¨ç‡
- å¯¹æ•°åæ ‡æ˜¾ç¤º

### 17. é¢‘è°±å¯¹æ¯” (Spectrum Comparison)
- å¤šæ•°æ®é›†é¢‘è°±å¯¹æ¯”
- è‡ªåŠ¨é¢œè‰²åˆ†é…
- å›¾ä¾‹è‡ªåŠ¨ç”Ÿæˆ

### 18. é¢‘è°±ç½‘æ ¼ (Spectrum Grid)
- å¤šå˜é‡é¢‘è°±ç½‘æ ¼æ˜¾ç¤º
- è‡ªåŠ¨å¸ƒå±€è°ƒæ•´
- ç»Ÿä¸€åæ ‡è½´

### 19. é¢‘è°±åˆ†æ (Spectrum Analysis)
- ç»¼åˆé¢‘è°±åˆ†æ
- æ—¶é—´åºåˆ—ã€åŠŸç‡è°±ã€å‘¨æœŸå›¾ã€è‡ªç›¸å…³
- ç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤º
- ä¸»å¯¼é¢‘ç‡è¯†åˆ«

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- ä¸»è¦ä¾èµ–ï¼šmatplotlib, seaborn, pandas, numpy

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone <repository-url>
cd climate_analysis_toolkit

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å®‰è£…å·¥å…·åŒ…
pip install -e .
```

### åŸºç¡€ä½¿ç”¨

#### 1. å®Œå…¨è‡ªåŠ¨æ¨¡å¼
```python
from climate_analysis_toolkit.src.plotting import auto_plot

# è‡ªåŠ¨é€‰æ‹©æœ€ä½³å›¾è¡¨ç±»å‹
fig, ax = auto_plot(your_data)
```

#### 2. æŒ‡å®šå›¾è¡¨ç±»å‹
```python
# æŒ‡å®šçƒ­åŠ›å›¾
fig, ax = auto_plot(your_data, plot_type='heatmap')

# æŒ‡å®šç®±çº¿å›¾
fig, ax = auto_plot(your_data, plot_type='boxplot')
```

#### 3. æ•°æ®åˆ†æ
```python
from climate_analysis_toolkit.src.plotting import analyze_data_structure

# åˆ†ææ•°æ®ç»“æ„
analysis = analyze_data_structure(your_data)
print(analysis['suggested_plots'])  # æŸ¥çœ‹å»ºè®®çš„å›¾è¡¨ç±»å‹
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
climate_analysis_toolkit/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ plotting/
â”‚       â”œâ”€â”€ __init__.py           # ä¸»æ¥å£
â”‚       â”œâ”€â”€ smart_plotter.py      # æ™ºèƒ½ç»˜å›¾ä¸»æ¨¡å—
â”‚       â”œâ”€â”€ heatmap.py           # çƒ­åŠ›å›¾æ¨¡å—
â”‚       â”œâ”€â”€ boxplot.py           # ç®±çº¿å›¾æ¨¡å—
â”‚       â””â”€â”€ statistical_plots.py # ç»Ÿè®¡ç»˜å›¾æ¨¡å—
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ setup.py
â””â”€â”€ README.md
```

## ğŸ¯ æ™ºèƒ½ç‰¹æ€§

### è‡ªåŠ¨å‚æ•°è°ƒæ•´
- **å›¾å½¢å°ºå¯¸**: æ ¹æ®æ•°æ®ç»´åº¦è‡ªåŠ¨è°ƒæ•´
- **é¢œè‰²æ–¹æ¡ˆ**: æ ¹æ®æ•°æ®ç±»å‹è‡ªåŠ¨é€‰æ‹©
- **æ ‡ç­¾æ—‹è½¬**: æ ¹æ®æ ‡ç­¾é•¿åº¦è‡ªåŠ¨è°ƒæ•´
- **æ³¨é‡Šæ˜¾ç¤º**: æ ¹æ®æ•°æ®é‡è‡ªåŠ¨å†³å®šæ˜¯å¦æ˜¾ç¤º

### æ•°æ®è¯†åˆ«
- **æ•°æ®ç±»å‹**: DataFrameã€numpyæ•°ç»„ã€åˆ—è¡¨ã€å­—å…¸
- **æ•°æ®ç»´åº¦**: 1Dã€2Dã€å¤šç»´æ•°æ®
- **å˜é‡ç±»å‹**: åˆ†ç±»å˜é‡ã€æ•°å€¼å˜é‡
- **æ—¶é—´åºåˆ—**: è‡ªåŠ¨æ£€æµ‹æ—¶é—´åºåˆ—ç‰¹å¾

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç›¸å…³æ€§åˆ†æ
```python
import pandas as pd
import numpy as np

# åˆ›å»ºç¤ºä¾‹æ•°æ®
data = pd.DataFrame({
    'A': np.random.normal(0, 1, 100),
    'B': np.random.normal(0, 1, 100),
    'C': np.random.normal(0, 1, 100)
})

# è‡ªåŠ¨ç»˜åˆ¶ç›¸å…³æ€§çƒ­åŠ›å›¾
fig, ax = auto_plot(data, plot_type='correlation_heatmap')
```

### åˆ†ç»„æ•°æ®å¯è§†åŒ–
```python
# åˆ›å»ºåˆ†ç»„æ•°æ®
data = pd.DataFrame({
    'Group': ['A', 'A', 'B', 'B', 'C', 'C'] * 20,
    'Value': np.random.normal(0, 1, 120)
})

# è‡ªåŠ¨ç»˜åˆ¶ç®±çº¿å›¾
fig, ax = auto_plot(data, plot_type='boxplot')

### EOFåˆ†æå¯è§†åŒ–
```python
import numpy as np

# åˆ›å»ºEOFæ¨¡æ€æ•°æ® (n_modes, n_spatial_points)
eof_modes = np.random.randn(4, 100)  # 4ä¸ªæ¨¡æ€ï¼Œ100ä¸ªç©ºé—´ç‚¹

# ç»˜åˆ¶EOFæ¨¡æ€å›¾
fig, axes = plot_eof_modes(eof_modes, n_modes=4, title="EOF Spatial Modes")

# åˆ›å»ºPCæ—¶é—´åºåˆ—æ•°æ® (n_time, n_modes)
pc_data = np.random.randn(200, 4)  # 200ä¸ªæ—¶é—´ç‚¹ï¼Œ4ä¸ªæ¨¡æ€

# ç»˜åˆ¶PCæ—¶é—´åºåˆ—
fig, axes = plot_pc_timeseries(pc_data, title="PC Time Series")

# åˆ›å»ºæ–¹å·®è§£é‡Šæ•°æ®
variance_ratio = [45.2, 23.1, 12.8, 8.9]  # å„æ¨¡æ€æ–¹å·®è§£é‡Šæ¯”ä¾‹

# ç»˜åˆ¶æ–¹å·®è§£é‡Šå›¾
fig, ax = plot_eof_variance(variance_ratio, title="EOF Variance Explained")

### ç©ºé—´ç»˜å›¾
```python
import numpy as np

# åˆ›å»ºç©ºé—´æ•°æ® (lat, lon)
spatial_data = np.random.randn(50, 80)  # 50ä¸ªçº¬åº¦ç‚¹ï¼Œ80ä¸ªç»åº¦ç‚¹
lats = np.linspace(15, 55, 50)
lons = np.linspace(70, 140, 80)

# ç»˜åˆ¶ç©ºé—´åœº
fig, ax = plot_spatial_field(spatial_data, lats, lons, title="Temperature Field")

# ç»˜åˆ¶ç©ºé—´å¯¹æ¯”
data_dict = {
    'Model A': spatial_data,
    'Model B': spatial_data + np.random.randn(50, 80) * 0.5
}
fig, axes = plot_spatial_comparison(data_dict, lats, lons, title="Model Comparison")
```

### Taylorå›¾
```python
import numpy as np

# åˆ›å»ºè§‚æµ‹å’Œæ¨¡å‹æ•°æ®
obs_data = np.random.randn(100)
model_data = {
    'Model A': obs_data + np.random.randn(100) * 0.3,
    'Model B': obs_data + np.random.randn(100) * 0.5,
    'Model C': obs_data + np.random.randn(100) * 0.7
}

# ç»˜åˆ¶Taylorå›¾
fig, ax = plot_taylor_diagram(obs_data, model_data, title="Model Performance")
```

### é¢‘è°±åˆ†æ
```python
import numpy as np

# åˆ›å»ºæ—¶é—´åºåˆ—æ•°æ®
time_series = np.sin(2 * np.pi * 0.1 * np.arange(1000)) + np.random.randn(1000) * 0.1

# ç»˜åˆ¶åŠŸç‡è°±å¯†åº¦
fig, ax = plot_power_spectrum(time_series, fs=1.0, title="Power Spectrum")

# ç»¼åˆé¢‘è°±åˆ†æ
fig, axes = plot_spectrum_analysis(time_series, fs=1.0, title="Spectral Analysis")
```

## ğŸ“ è¾“å‡ºç›®å½•ç»“æ„

å·¥å…·åŒ…é‡‡ç”¨ç»Ÿä¸€çš„è¾“å‡ºç›®å½•ç»“æ„ï¼ŒæŒ‰ç…§è®¡ç®—æ–¹æ³•å’Œç»˜åˆ¶æ–¹æ³•è¿›è¡Œåˆ†ç±»å­˜æ”¾ï¼š

### åŸºç¡€ç›®å½•ç»“æ„
```
/sas12t1/ffyan/
â”œâ”€â”€ outputdata/          # æ•°æ®æ–‡ä»¶è¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ eof/            # EOFåˆ†ææ•°æ®
â”‚   â”œâ”€â”€ common_eof/     # å…±åŒEOFåˆ†ææ•°æ®
â”‚   â”œâ”€â”€ crpss/          # CRPSSåˆ†ææ•°æ®
â”‚   â”œâ”€â”€ rmse/           # RMSEåˆ†ææ•°æ®
â”‚   â”œâ”€â”€ correlation/    # ç›¸å…³æ€§åˆ†ææ•°æ®
â”‚   â”œâ”€â”€ spectrum/       # é¢‘è°±åˆ†ææ•°æ®
â”‚   â””â”€â”€ taylor/         # Tayloråˆ†ææ•°æ®
â””â”€â”€ outputplot/         # å›¾åƒæ–‡ä»¶è¾“å‡ºç›®å½•
    â”œâ”€â”€ eof/            # EOFåˆ†æå›¾åƒ
    â”œâ”€â”€ common_eof/     # å…±åŒEOFåˆ†æå›¾åƒ
    â”œâ”€â”€ crpss/          # CRPSSåˆ†æå›¾åƒ
    â”œâ”€â”€ rmse/           # RMSEåˆ†æå›¾åƒ
    â”œâ”€â”€ correlation/    # ç›¸å…³æ€§åˆ†æå›¾åƒ
    â”œâ”€â”€ spectrum/       # é¢‘è°±åˆ†æå›¾åƒ
    â””â”€â”€ taylor/         # Tayloråˆ†æå›¾åƒ
```

### è¯¦ç»†ç›®å½•ç»“æ„
```
outputdata/
â”œâ”€â”€ eof/
â”‚   â”œâ”€â”€ temp/
â”‚   â”‚   â”œâ”€â”€ eof_temp_ECMWF-51-mon_lead1.pkl
â”‚   â”‚   â””â”€â”€ eof_temp_NCEP-2_lead2.pkl
â”‚   â””â”€â”€ prec/
â”‚       â””â”€â”€ eof_prec_ECMWF-51-mon_lead1.pkl
â”œâ”€â”€ rmse/
â”‚   â”œâ”€â”€ temp/
â”‚   â”‚   â”œâ”€â”€ rmse_temp_ECMWF-51-mon_lead1.nc
â”‚   â”‚   â””â”€â”€ rmse_temp_NCEP-2_lead2.nc
â”‚   â””â”€â”€ prec/
â”‚       â””â”€â”€ rmse_prec_ECMWF-51-mon_lead1.nc
â””â”€â”€ ...

outputplot/
â”œâ”€â”€ eof/
â”‚   â”œâ”€â”€ temp/
â”‚   â”‚   â”œâ”€â”€ eof_modes/
â”‚   â”‚   â”‚   â”œâ”€â”€ eof_temp_eof_modes_ECMWF-51-mon_lead1.png
â”‚   â”‚   â”‚   â””â”€â”€ eof_temp_eof_modes_NCEP-2_lead2.png
â”‚   â”‚   â”œâ”€â”€ pc_timeseries/
â”‚   â”‚   â”‚   â”œâ”€â”€ eof_temp_pc_timeseries_ECMWF-51-mon_lead1.png
â”‚   â”‚   â”‚   â””â”€â”€ eof_temp_pc_timeseries_NCEP-2_lead2.png
â”‚   â”‚   â””â”€â”€ variance/
â”‚   â”‚       â”œâ”€â”€ eof_temp_variance_ECMWF-51-mon_lead1.png
â”‚   â”‚       â””â”€â”€ eof_temp_variance_NCEP-2_lead2.png
â”‚   â””â”€â”€ prec/
â”‚       â””â”€â”€ ...
â”œâ”€â”€ rmse/
â”‚   â”œâ”€â”€ temp/
â”‚   â”‚   â”œâ”€â”€ spatial/
â”‚   â”‚   â”‚   â”œâ”€â”€ rmse_temp_spatial_ECMWF-51-mon_lead1.png
â”‚   â”‚   â”‚   â””â”€â”€ rmse_temp_spatial_NCEP-2_lead2.png
â”‚   â”‚   â”œâ”€â”€ boxplot/
â”‚   â”‚   â”‚   â”œâ”€â”€ rmse_temp_boxplot_ECMWF-51-mon_lead1.png
â”‚   â”‚   â”‚   â””â”€â”€ rmse_temp_boxplot_NCEP-2_lead2.png
â”‚   â”‚   â””â”€â”€ comparison/
â”‚   â”‚       â””â”€â”€ rmse_temp_comparison_ECMWF-51-mon_lead1.png
â”‚   â””â”€â”€ prec/
â”‚       â””â”€â”€ ...
â””â”€â”€ ...
```

### æ–‡ä»¶å‘½åè§„èŒƒ

æ–‡ä»¶å‘½åé‡‡ç”¨ä»¥ä¸‹æ ¼å¼ï¼š
```
{è®¡ç®—æ–¹æ³•}_{å˜é‡ç±»å‹}_{ç»˜åˆ¶æ–¹æ³•}_{æ¨¡å‹åç§°}_{é¢„æŠ¥æ—¶æ•ˆ}_{æ¨¡æ€ç¼–å·}.{åç¼€}
```

ç¤ºä¾‹ï¼š
- `eof_temp_eof_modes_ECMWF-51-mon_lead1_mode1.png`
- `rmse_temp_spatial_NCEP-2_lead2.png`
- `crpss_temp_boxplot_UKMO-14_lead0.png`

### ä½¿ç”¨è¾“å‡ºé…ç½®

```python
from src.config.output_config import (
    get_eof_plot_path,
    get_rmse_plot_path,
    get_crpss_plot_path,
    get_standard_filename
)

# è·å–EOFå›¾åƒè¾“å‡ºè·¯å¾„
eof_plot_path = get_eof_plot_path("temp", "eof_modes", "ECMWF-51-mon", leadtime=1, mode=1)

# è·å–RMSEå›¾åƒè¾“å‡ºè·¯å¾„
rmse_plot_path = get_rmse_plot_path("temp", "spatial", "NCEP-2", leadtime=2)

# è·å–æ ‡å‡†æ–‡ä»¶å
filename = get_standard_filename("eof", "temp", "eof_modes", "ECMWF-51-mon", 1, 1)
# ç»“æœ: "eof_temp_eof_modes_ECMWF-51-mon_lead1_mode1.png"
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªå·¥å…·åŒ…ã€‚

## ï¿½ï¿½ è®¸å¯è¯

MIT License
